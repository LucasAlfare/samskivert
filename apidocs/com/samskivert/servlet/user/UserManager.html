<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Mar 12 08:40:10 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UserManager (samskivert 1.9 API)</title>
<meta name="date" content="2015-03-12">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UserManager (samskivert 1.9 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/samskivert/servlet/user/UserExistsException.html" title="class in com.samskivert.servlet.user"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/samskivert/servlet/user/UserManager.InsecureAuthenticator.html" title="class in com.samskivert.servlet.user"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/samskivert/servlet/user/UserManager.html" target="_top">Frames</a></li>
<li><a href="UserManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.samskivert.servlet.user</div>
<h2 title="Class UserManager" class="title">Class UserManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.samskivert.servlet.user.UserManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">UserManager</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The user manager provides easy access to user objects for servlets. It takes care of cookie
 management involved in login, logout and loading a user record during an authenticated session.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.InsecureAuthenticator.html" title="class in com.samskivert.servlet.user">UserManager.InsecureAuthenticator</a></span></code>
<div class="block">A totally insecure authenticator that authenticates any user.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.PasswordAuthenticator.html" title="class in com.samskivert.servlet.user">UserManager.PasswordAuthenticator</a></span></code>
<div class="block">An authenticator that requires that the user-supplied password match the actual user
 password.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#AUTH_INSECURE">AUTH_INSECURE</a></span></code>
<div class="block">An instance of the insecure authenticator for general-purpose use.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#AUTH_PASSWORD">AUTH_PASSWORD</a></span></code>
<div class="block">An instance of the password authenticator for general-purpose use.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#UserManager--">UserManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#effectLogin-com.samskivert.servlet.user.User-int-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">effectLogin</a></span>(<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>&nbsp;user,
           int&nbsp;expires,
           <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req,
           <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;rsp)</code>
<div class="block">If a user is already known to be authenticated for one reason or other, this method can be
 used to give them the appropriate authentication cookies to effect their login.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/samskivert/servlet/user/UserRepository.html" title="class in com.samskivert.servlet.user">UserRepository</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#getRepository--">getRepository</a></span>()</code>
<div class="block">Returns a reference to the repository in use by this user manager.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#init-java.util.Properties-com.samskivert.jdbc.ConnectionProvider-">init</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;config,
    <a href="../../../../com/samskivert/jdbc/ConnectionProvider.html" title="interface in com.samskivert.jdbc">ConnectionProvider</a>&nbsp;conprov)</code>
<div class="block">Prepares this user manager for operation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#init-java.util.Properties-com.samskivert.jdbc.ConnectionProvider-com.samskivert.util.RunQueue-">init</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;config,
    <a href="../../../../com/samskivert/jdbc/ConnectionProvider.html" title="interface in com.samskivert.jdbc">ConnectionProvider</a>&nbsp;conprov,
    <a href="../../../../com/samskivert/util/RunQueue.html" title="interface in com.samskivert.util">RunQueue</a>&nbsp;pruneQueue)</code>
<div class="block">Prepares this user manager for operation.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#loadUser-javax.servlet.http.HttpServletRequest-">loadUser</a></span>(<a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req)</code>
<div class="block">Fetches the necessary authentication information from the http request and loads the user
 identified by that information.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#loadUser-java.lang.String-">loadUser</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;authcode)</code>
<div class="block">Loads up a user based on the supplied session authentication token.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#login-java.lang.String-com.samskivert.servlet.user.Password-boolean-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-com.samskivert.servlet.user.Authenticator-">login</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;username,
     <a href="../../../../com/samskivert/servlet/user/Password.html" title="class in com.samskivert.servlet.user">Password</a>&nbsp;password,
     boolean&nbsp;persist,
     <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req,
     <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;rsp,
     <a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a>&nbsp;auth)</code>
<div class="block">Attempts to authenticate the requester and initiate an authenticated session for them.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/samskivert/util/Tuple.html" title="class in com.samskivert.util">Tuple</a>&lt;<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#login-java.lang.String-com.samskivert.servlet.user.Password-int-com.samskivert.servlet.user.Authenticator-">login</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;username,
     <a href="../../../../com/samskivert/servlet/user/Password.html" title="class in com.samskivert.servlet.user">Password</a>&nbsp;password,
     int&nbsp;expires,
     <a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a>&nbsp;auth)</code>
<div class="block">Attempts to authenticate the requester and initiate an authenticated session for them.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#logout-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">logout</a></span>(<a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req,
      <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;rsp)</code>
<div class="block">Logs the user out.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#refreshSession-java.lang.String-int-">refreshSession</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionKey,
              int&nbsp;expireDays)</code>
<div class="block">Validates that the supplied session key is still valid and if so, refreshes it for the
 specified number of days.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#requireUser-javax.servlet.http.HttpServletRequest-">requireUser</a></span>(<a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req)</code>
<div class="block">Fetches the necessary authentication information from the http request and loads the user
 identified by that information.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/samskivert/servlet/user/UserManager.html#shutdown--">shutdown</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="AUTH_INSECURE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AUTH_INSECURE</h4>
<pre>public static final&nbsp;<a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a> AUTH_INSECURE</pre>
<div class="block">An instance of the insecure authenticator for general-purpose use.</div>
</li>
</ul>
<a name="AUTH_PASSWORD">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AUTH_PASSWORD</h4>
<pre>public static final&nbsp;<a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a> AUTH_PASSWORD</pre>
<div class="block">An instance of the password authenticator for general-purpose use.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UserManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserManager</h4>
<pre>public&nbsp;UserManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init-java.util.Properties-com.samskivert.jdbc.ConnectionProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;config,
                 <a href="../../../../com/samskivert/jdbc/ConnectionProvider.html" title="interface in com.samskivert.jdbc">ConnectionProvider</a>&nbsp;conprov)
          throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></pre>
<div class="block">Prepares this user manager for operation. Presently the user manager requires the
 following configuration information:

 <ul>
 <li><code>login_url</code>: Should be set to the URL to which to redirect a requester if
 they are required to login before accessing the requested page. For example:

 <pre>
 login_url = /usermgmt/login.ajsp?return=%R
 </pre>

 The <code>%R</code> will be replaced with the URL encoded URL the user is currently
 requesting (complete with query parameters) so that the login code can redirect the user
 back to this request once they are authenticated.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - the user manager configuration properties.</dd>
<dd><code>conprov</code> - the database connection provider that will be used to obtain a connection to
 the user database.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a name="init-java.util.Properties-com.samskivert.jdbc.ConnectionProvider-com.samskivert.util.RunQueue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;config,
                 <a href="../../../../com/samskivert/jdbc/ConnectionProvider.html" title="interface in com.samskivert.jdbc">ConnectionProvider</a>&nbsp;conprov,
                 <a href="../../../../com/samskivert/util/RunQueue.html" title="interface in com.samskivert.util">RunQueue</a>&nbsp;pruneQueue)
          throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></pre>
<div class="block">Prepares this user manager for operation. See <a href="../../../../com/samskivert/servlet/user/UserManager.html#init-java.util.Properties-com.samskivert.jdbc.ConnectionProvider-"><code>init(Properties,ConnectionProvider)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pruneQueue</code> - an optional run queue on which to run our periodic session pruning task.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
</li>
</ul>
<a name="getRepository--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRepository</h4>
<pre>public&nbsp;<a href="../../../../com/samskivert/servlet/user/UserRepository.html" title="class in com.samskivert.servlet.user">UserRepository</a>&nbsp;getRepository()</pre>
<div class="block">Returns a reference to the repository in use by this user manager.</div>
</li>
</ul>
<a name="loadUser-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadUser</h4>
<pre>public&nbsp;<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>&nbsp;loadUser(<a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req)
              throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></pre>
<div class="block">Fetches the necessary authentication information from the http request and loads the user
 identified by that information.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user associated with the request or null if no user was associated with the
 request or if the authentication information is bogus.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a name="loadUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadUser</h4>
<pre>public&nbsp;<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>&nbsp;loadUser(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;authcode)
              throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></pre>
<div class="block">Loads up a user based on the supplied session authentication token.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a name="requireUser-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requireUser</h4>
<pre>public&nbsp;<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>&nbsp;requireUser(<a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req)
                 throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a>,
                        <a href="../../../../com/samskivert/servlet/RedirectException.html" title="class in com.samskivert.servlet">RedirectException</a></pre>
<div class="block">Fetches the necessary authentication information from the http request and loads the user
 identified by that information. If no user could be loaded (because the requester is not
 authenticated), a redirect exception will be thrown to redirect the user to the login page
 specified in the user manager configuration.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user associated with the request.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
<dd><code><a href="../../../../com/samskivert/servlet/RedirectException.html" title="class in com.samskivert.servlet">RedirectException</a></code></dd>
</dl>
</li>
</ul>
<a name="login-java.lang.String-com.samskivert.servlet.user.Password-boolean-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-com.samskivert.servlet.user.Authenticator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>&nbsp;login(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;username,
                  <a href="../../../../com/samskivert/servlet/user/Password.html" title="class in com.samskivert.servlet.user">Password</a>&nbsp;password,
                  boolean&nbsp;persist,
                  <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req,
                  <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;rsp,
                  <a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a>&nbsp;auth)
           throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a>,
                  <a href="../../../../com/samskivert/servlet/user/AuthenticationFailedException.html" title="class in com.samskivert.servlet.user">AuthenticationFailedException</a></pre>
<div class="block">Attempts to authenticate the requester and initiate an authenticated session for them. An
 authenticated session involves their receiving a cookie that proves them to be authenticated
 and an entry in the session database being created that maps their information to their
 userid. If this call completes, the session was established and the proper cookies were set
 in the supplied response object. If invalid authentication information is provided or some
 other error occurs, an exception will be thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username supplied by the user.</dd>
<dd><code>password</code> - The password supplied by the user.</dd>
<dd><code>persist</code> - If true, the cookie will expire in one month, if false, the cookie will
 expire at the end of the user's browser session.</dd>
<dd><code>req</code> - The request via which the login page was loaded.</dd>
<dd><code>rsp</code> - The response in which the cookie is to be set.</dd>
<dd><code>auth</code> - The authenticator used to check whether the user should be authenticated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user object of the authenticated user.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
<dd><code><a href="../../../../com/samskivert/servlet/user/AuthenticationFailedException.html" title="class in com.samskivert.servlet.user">AuthenticationFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="login-java.lang.String-com.samskivert.servlet.user.Password-int-com.samskivert.servlet.user.Authenticator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;<a href="../../../../com/samskivert/util/Tuple.html" title="class in com.samskivert.util">Tuple</a>&lt;<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;login(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;username,
                                <a href="../../../../com/samskivert/servlet/user/Password.html" title="class in com.samskivert.servlet.user">Password</a>&nbsp;password,
                                int&nbsp;expires,
                                <a href="../../../../com/samskivert/servlet/user/Authenticator.html" title="interface in com.samskivert.servlet.user">Authenticator</a>&nbsp;auth)
                         throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a>,
                                <a href="../../../../com/samskivert/servlet/user/AuthenticationFailedException.html" title="class in com.samskivert.servlet.user">AuthenticationFailedException</a></pre>
<div class="block">Attempts to authenticate the requester and initiate an authenticated session for them. A
 session token will be assigned to the user and returned along with the associated <a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user"><code>User</code></a> record. It is assumed that the client will maintain the session token via its own
 means.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the username supplied by the user.</dd>
<dd><code>password</code> - the password supplied by the user.</dd>
<dd><code>expires</code> - the number of days in which this session should expire.</dd>
<dd><code>auth</code> - the authenticator used to check whether the user should be authenticated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user object of the authenticated user.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
<dd><code><a href="../../../../com/samskivert/servlet/user/AuthenticationFailedException.html" title="class in com.samskivert.servlet.user">AuthenticationFailedException</a></code></dd>
</dl>
</li>
</ul>
<a name="effectLogin-com.samskivert.servlet.user.User-int-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>effectLogin</h4>
<pre>public&nbsp;void&nbsp;effectLogin(<a href="../../../../com/samskivert/servlet/user/User.html" title="class in com.samskivert.servlet.user">User</a>&nbsp;user,
                        int&nbsp;expires,
                        <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req,
                        <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;rsp)
                 throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></pre>
<div class="block">If a user is already known to be authenticated for one reason or other, this method can be
 used to give them the appropriate authentication cookies to effect their login.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expires</code> - the number of days in which to expire the session cookie, 0 means expire at
 the end of the browser session.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
</dl>
</li>
</ul>
<a name="logout-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout(<a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;req,
                   <a href="http://download.oracle.com/javaee/1.2.1/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;rsp)</pre>
<div class="block">Logs the user out.</div>
</li>
</ul>
<a name="refreshSession-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>refreshSession</h4>
<pre>public&nbsp;boolean&nbsp;refreshSession(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionKey,
                              int&nbsp;expireDays)
                       throws <a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></pre>
<div class="block">Validates that the supplied session key is still valid and if so, refreshes it for the
 specified number of days.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the session was located and refreshed, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/samskivert/io/PersistenceException.html" title="class in com.samskivert.io">PersistenceException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/samskivert/servlet/user/UserExistsException.html" title="class in com.samskivert.servlet.user"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/samskivert/servlet/user/UserManager.InsecureAuthenticator.html" title="class in com.samskivert.servlet.user"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/samskivert/servlet/user/UserManager.html" target="_top">Frames</a></li>
<li><a href="UserManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
